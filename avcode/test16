
proc main 
var pid cnt

onint from nonchild dproc
spawn child pid "bollocks"
printnl $ppid "," $pid "," $name "," $filename
if pid
	interrupt pid with "DIE" on death
	printnl "Interrupting kiddy"
	printnl [interrupt pid with "FIRST"]
	printnl [pcsinfo pid]
	sleep 1
	printnl "DYING"
	exit 0
endif
while 1; wend
endproc


proc dproc
printnl "INTERRUPTED: " $int_mesg
if [tail $int_mesg]="DIE"; exit 0; endif
sleep 2
endproc
