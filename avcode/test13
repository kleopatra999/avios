proc main
var pid par

set par $pid
spawn child pid
printnl "Pid: " $pid 
if pid=0
	# Child comes here
	printnl "Child -> parent: " [relation $pid par]
	spawn child pid
	if pid=0
		# Grandchild comes here
		printnl "Grandchild -> parent: " [relation $pid par]
		exit 0
	endif
	waitpid pid
	printnl "Grandchild exited"
	exit 0
endif
waitpid pid
printnl "Child exited"
endproc
